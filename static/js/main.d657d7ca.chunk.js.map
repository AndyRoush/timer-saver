{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","useState","inputVal","setInputVal","allData","setAllData","loading","setLoading","dataNum","setDataNum","respError","setRespError","noResults","setNoResults","handleErrors","response","Error","ok","statusText","loopIds","dArray","arrayBuilder","map","d","fetch","process","then","json","data","push","catch","error","console","log","setTimeout","length","Response","renderData","i","imdbID","Title","Runtime","Year","Director","Actors","Poster","Language","Country","Released","className","onSubmit","e","preventDefault","dataArray","split","type","onChange","target","value","Alert","variant","Spinner","animation","role","Table","striped","bordered","hover","size","responsive","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d657d7ca.chunk.js","sourcesContent":["import { render } from \"@testing-library/react\";\nimport React, { useState } from \"react\";\n\n// Bootstrap\nimport Table from \"react-bootstrap/Table\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport Alert from \"react-bootstrap/Alert\";\n\n// Styles\nimport \"./App.css\";\n\nfunction App() {\n  const apiKey = process.env.REACT_APP_API_KEY;\n\n  const [inputVal, setInputVal] = useState(\"\");\n  const [allData, setAllData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [dataNum, setDataNum] = useState(\"0\");\n  const [respError, setRespError] = useState(\"\");\n  const [noResults, setNoResults] = useState(\"\");\n\n  const getInputValue = (e) => {\n    setInputVal(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setNoResults(\"\");\n    setRespError(\"\");\n    const dataArray = inputVal.split(\";\");\n    // setDataNum(dataArray.length);\n    loopIds(dataArray);\n  };\n\n  function handleErrors(response) {\n    setRespError(response.Error);\n    if (response.Error) throw Error(response.Error);\n    if (!response.ok) throw Error(response.statusText);\n    return response;\n  }\n\n  // This function takes the array of IDs, loops through and makes an API call for each iteration then stores it in an array. That new array will be set to the\n  // state object which we will use to iterate over to display the data to the user.\n  const loopIds = (dArray) => {\n    setLoading(true);\n    let arrayBuilder = [];\n    dArray.map((d) => {\n      fetch(`http://www.omdbapi.com/?i=${d}&apikey=${apiKey}`)\n        .then(handleErrors)\n        .then((response) => response.json())\n        .then((data) => {\n          arrayBuilder.push(data);\n        })\n        .catch((error) => console.log(error));\n    });\n    setTimeout(function () {\n      setLoading(false);\n      setAllData(arrayBuilder);\n      if (arrayBuilder.length === 0 || arrayBuilder[0].Response === \"False\") {\n        setNoResults(\"no results found\");\n        setDataNum(\"0\");\n      } else {\n        setDataNum(arrayBuilder.length);\n      }\n    }, 2000);\n  };\n\n  const renderData = allData\n    ? allData.map((d, i) => {\n        return (\n          <tr key={i}>\n            <td>{d.imdbID}</td>\n            <td>{d.Title}</td>\n            <td>{d.Runtime}</td>\n            <td>{d.Year}</td>\n            <td>{d.Director}</td>\n            <td>{d.Actors}</td>\n            <td>{d.Poster}</td>\n            <td>{d.Language}</td>\n            <td>{d.Country}</td>\n            <td>{d.Released}</td>\n          </tr>\n        );\n      })\n    : null;\n\n  return (\n    <div className=\"App\">\n      <div className=\"form-wrapper\">\n        <form onSubmit={handleSubmit}>\n          <input type=\"text\" onChange={getInputValue} />\n          {respError ? (\n            <Alert variant=\"danger\" className=\"alerts\">\n              {respError}\n            </Alert>\n          ) : null}\n          <button type=\"submit\" className=\"submit-button\">\n            Search\n          </button>\n          <p>\n            You searched for <span className=\"data-num\">{dataNum}</span>\n            <span>&nbsp;{dataNum === 1 ? \"title\" : \"titles\"}</span>\n          </p>\n        </form>\n      </div>\n      {loading ? (\n        <div className=\"spinner-wrapper\">\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </Spinner>\n        </div>\n      ) : (\n        <div className=\"table-container\">\n          <Table striped bordered hover size=\"sm\" responsive>\n            <thead>\n              <tr>\n                <th>IMDB ID</th>\n                <th>Title Name</th>\n                <th>Run time</th>\n                <th>Release year</th>\n                <th>Director name</th>\n                <th>Actors (top4)</th>\n                <th>Poster URL</th>\n                <th>Language</th>\n                <th>Country of origin</th>\n                <th>Release date</th>\n              </tr>\n            </thead>\n            <tbody>{renderData}</tbody>\n          </Table>\n          {noResults ? (\n            <Alert variant=\"warning\" className=\"alerts\">\n              {noResults}\n            </Alert>\n          ) : null}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}